<Directory  /opt/nomoney/staticfiles/>
  Require all granted
</Directory>

<Directory  /opt/nomoney/media/>
  Require all granted
</Directory>

<VirtualHost *:80>
  KeepAlive On
  KeepAliveTimeout 60

  ErrorLog /dev/stdout
  CustomLog /dev/stdout combined

  ProxyRequests Off

  ProxyPassMatch ^/n/static/ !
  ProxyPassMatch ^/n/media/ !

  ProxyPass        / http://localhost:49152/
  ProxyPassReverse / http://localhost:49152/

  Alias /n/static/ /opt/nomoney/staticfiles/
  Alias /n/media/  /opt/nomoney/media/
</VirtualHost>

# For Docker Compose
Listen 8080
<VirtualHost *:8080>
  KeepAlive On
  KeepAliveTimeout 60

  ErrorLog /dev/stdout
  CustomLog /dev/stdout combined

  ProxyRequests Off

  ProxyPassMatch ^/n/static/ !
  ProxyPassMatch ^/n/media/ !

  ProxyPass        / http://n-main:49152/
  ProxyPassReverse / http://n-main:49152/

  Alias /n/static/ /opt/nomoney/staticfiles/
  Alias /n/media/  /opt/nomoney/media/
</VirtualHost>
